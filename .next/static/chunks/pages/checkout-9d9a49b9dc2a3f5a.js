(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{5248:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return n(5949)}])},5949:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var r,c=n(5893),o="https://js.stripe.com/v3",i=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,a=function(){for(var e=document.querySelectorAll('script[src^="'.concat(o,'"]')),t=0;t<e.length;t++){var n=e[t];if(i.test(n.src))return n}return null},l=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(o).concat(t);var r=document.head||document.body;if(!r)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},s=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"4.6.0",startTime:t})},u=null,d=null,p=null,m=function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return s(r,n),r},f=!1,h=function(){return r||(r=(null!==u?u:(u=new Promise(function(e,t){if("undefined"==typeof window||"undefined"==typeof document){e(null);return}if(window.Stripe,window.Stripe){e(window.Stripe);return}try{var n,r=a();r?r&&null!==p&&null!==d&&(r.removeEventListener("load",p),r.removeEventListener("error",d),null===(n=r.parentNode)||void 0===n||n.removeChild(r),r=l(null)):r=l(null),p=function(){window.Stripe?e(window.Stripe):t(Error("Stripe.js not available"))},d=function(){t(Error("Failed to load Stripe.js"))},r.addEventListener("load",p),r.addEventListener("error",d)}catch(e){t(e);return}})).catch(function(e){return u=null,Promise.reject(e)})).catch(function(e){return r=null,Promise.reject(e)}))};Promise.resolve().then(function(){return h()}).catch(function(e){f||console.warn(e)}),n(4346),n(6131);var x=n(7294);n(1163);let v=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];f=!0;var r=Date.now();return h().then(function(e){return m(e,t,r)})}("pk_test_A76ah4xvEsIdc2x1Ohx8h0eq"),j=[{id:1,name:"Temecula Retreat (Full Price)",price:1e3,image:"product1.jpg",quantity:1},{id:2,name:"Temecula Retreat (Half Price) ",price:500,image:"product2.jpg",quantity:1},{id:3,name:"Temecula Retreat (Scholarship)",price:300,image:"product3.jpg",quantity:1}];function w(){let[e,t]=(0,x.useState)(null),n=e=>{t(e)},r=async()=>{if(!e){alert("Please select a product to proceed.");return}let t=await v,n=await fetch("/api/checkout-sessions/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cartItems:[e],returnUrl:window.location.origin})}),{sessionId:r}=await n.json();await t.redirectToCheckout({sessionId:r})};return(0,c.jsx)("section",{children:(0,c.jsxs)("div",{className:"product-cards flex flex-col items-center justify-center h-screen",children:[(0,c.jsx)("h1",{className:"product-title text-4xl font-bold font-psych",children:"Select a Product"}),!e&&j.map(e=>(0,c.jsxs)("div",{className:"product-card gap-8",children:[(0,c.jsx)("h2",{className:"text-2xl font-bold",children:e.name}),(0,c.jsxs)("p",{className:"text-xl font-bold",children:["Price: $",e.price]}),(0,c.jsx)("button",{className:"product-card-button border-black rounded-md p-8",onClick:()=>n(e),children:"Add to Cart"})]},e.id)),e&&(0,c.jsxs)("div",{className:"product-card-confirmation",children:[(0,c.jsx)("h3",{className:"text-2xl font-bold",children:"Selected Retreat Type"}),(0,c.jsx)("p",{className:"text-xl font-bold",children:e.name}),(0,c.jsxs)("p",{className:"text-xl font-bold",children:["Price: $",e.price]}),(0,c.jsxs)("div",{className:"product-card-button-group",children:[(0,c.jsx)("button",{className:"product-card-remove",onClick:()=>n(null),children:"Remove"}),(0,c.jsx)("button",{className:"product-card-button",onClick:r,children:"Checkout"})]})]})]})})}let b=()=>(0,c.jsx)("div",{className:"h-screen",children:(0,c.jsx)(w,{})});var N=b},4346:function(e,t,n){"use strict";var r=n(5893),c=n(7294),o=n(5744);let i=e=>{let{name:t,children:n}=e,{nav:i,animation:a}=(0,c.useContext)(o.I);return(0,r.jsx)("div",{id:t,className:"tokyo_tm_section bg-amber-300 ".concat(t==i?"animated active ".concat(a):""),children:n})};t.Z=i},6131:function(e,t,n){"use strict";var r=n(5893);let c=e=>{let{pageName:t,title:n}=e;return(0,r.jsx)("div",{className:"left",children:(0,r.jsx)("h3",{className:"text-[22px] font-bold font-psych",children:n})})};t.Z=c},1163:function(e,t,n){e.exports=n(6885)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5248)}),_N_E=e.O()}]);